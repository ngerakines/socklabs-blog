<!DOCTYPE html>
<html>
  <head>
	<link href="/css/style.css" media="screen" rel="stylesheet" type="text/css" />
    <title>Nick's Blog | Erlang woes
</title>
  </head>
  <body>
	<a href="/"><h1>Nick's Blog</h1></a>
	<div id="content">
		<div id="posts">
			<h2><a alt="Erlang woes
" href="/2008/10/04/erlang_woes.html">Erlang woes
</a></h2>
			<em id="sub_h2">04 October 2008</em>
		 	<p>This evening I wrote a small <a href="http://en.wikipedia.org/wiki/Cache_algorithms">LRU (least recently used)</a> <a href="http://blog.socklabs.com/2008/10/a_small_lru_list_module/">container module</a> for a project that I'm working on and ran into an annoying issue. Which standard of accessor names do I use? This may seem trivial but it leads to a bigger issue: inconsistency in the standard library.</p>

<p>Let's consider 5 basic components that generally apply to all types of containers. Creating new containers, adding items, determining if an item exists, removing items and iterating through all items. Comparing the gb_trees, gb_sets, array, orddict, queue and sets modules can give you the run-around.</p>

<p>To create a new gb_trees variable you use <code>gb_trees:empty()</code> but to create a new queue you'd do <code>queue:new()</code>. To get retrieve the value for a key out of a gb_trees variable you'd do either <code>gb_trees:get/2</code> or <code>gb_trees:lookup/2</code>. To do the same thing with the orddict module you'd do <code>orddict:fetch/2</code>. To do the same thing with the proplists module you'd do <code>proplists:get_value/3</code>. The queue module even implements multiple getters and setters that do the exact same thing. See where I'm going with this?</p>

<p>With the growth that the Erlang community is seeing, it would be great if there was some unified way of build blocks like this. I've seen people making proof of concept modules for different types of containers and algorithms, but they end up doing things their own way. If I want to implement a simple gen_server whose state is a container, I should be able to switch out the container type with little effort. The same idea holds true for plenty of other ideas and concepts.</p>

<p>How could this be done? Documentation and a good example are probably the best ways to go about this. Having a container behavior that you would implement would be even better. Do I expect the OTP maintainers to reorg a bunch of the stdlibs any time soon? No, but it'd be really nice if they started thinking about a standards body or document procedure for this sort of thing.</p>

		</div>
		<div id="sidebar">
	<div class="clear"></div>
	<div id="sidebar_content">
		<h2>Recently</h2>
		
			<h3 style="padding-top: 10px;"><a alt="Integrating Heman into CalendERL About Nothing" href="/2009/12/28/integrating_heman_into_calenderl_about_nothing.html">Integrating Heman into CalendERL About Nothing</a></h3>
			<em id="sub_h3">28 December 2009</em>
		
			<h3 style="padding-top: 10px;"><a alt="Lets create some Erlang standards, part one" href="/2009/11/24/lets_create_some_erlang_standards_part_one.html">Lets create some Erlang standards, part one</a></h3>
			<em id="sub_h3">24 November 2009</em>
		
			<h3 style="padding-top: 10px;"><a alt="2009 Erlang User Conference" href="/2009/11/12/EUC2009.html">2009 Erlang User Conference</a></h3>
			<em id="sub_h3">12 November 2009</em>
		
			<h3 style="padding-top: 10px;"><a alt="CalendERL About Nothing" href="/2009/11/01/calenderl_about_nothing.html">CalendERL About Nothing</a></h3>
			<em id="sub_h3">01 November 2009</em>
		
			<h3 style="padding-top: 10px;"><a alt="Globally Shared Queues" href="/2009/10/26/globally_shared_queues.html">Globally Shared Queues</a></h3>
			<em id="sub_h3">26 October 2009</em>
		
		<h2 style="padding-top: 20px;"><a href="/about/">About</a></h2>
		<h2 style="padding-top: 20px;"><a href="/projects/">Projects</a></h2>
		<h2 style="padding-top: 20px;"><a href="/archives/">Archives</a></h2>
	</div>
</div>

		<div id="disqus_thread"></div>
	</div>
	<script type="text/javascript" src="http://disqus.com/forums/socklabs-blog/embed.js"></script>
<noscript>
	<a href="http://disqus.com/forums/socklabs-blog/?url=ref">View the discussion thread.</a>
</noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/socklabs-blog/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>

	<div class="clear"></div>
	<div id="footer">
	<a href="/" alt="blog"><b>Blog</b></a>
	| <a href="http://socklabs.com">Socklabs</a>
	| <a href="http://twitter.com/ngerakines" alt="status">On Twitter</a>
	| <a alt="ngerakines on Facebook" href="http://facebook.com/ngerakines">on Facebook</a>
</div>
	</body>
</html>